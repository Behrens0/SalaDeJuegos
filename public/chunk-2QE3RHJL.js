import{a as O,b as k,c as J,d as W,e as I,f as T,l as q,m as z}from"./chunk-DON5HI3A.js";import{a as N}from"./chunk-NWFSGMAH.js";import"./chunk-LJ5XHLMQ.js";import{C as E,F as S,H as r,I as s,J as m,K as A,L as D,M as P,R as h,T as B,V as c,W as f,X as u,i as U,ia as R,ka as V,m as p,n as l,q as x,qa as j,ta as F,u as _,v as a,x as y,y as v,z as C}from"./chunk-CB2OHQ7B.js";import{h as M}from"./chunk-FK42CRUA.js";function Z(i,n){if(i&1&&(r(0,"div",15),h(1),s()),i&2){let e=P();a(),B(" ",e.errorMessage," ")}}var w=class i{constructor(n,e){this.router=n;this.supabase=e}loginStatusChange=new x;nombre="";username="";correo="";password="";errorMessage="";onSubmit(){return M(this,null,function*(){if(!this.nombre||!this.username||!this.correo||!this.password){this.errorMessage="Todos los campos son obligatorios.";return}if(!this.validateEmail(this.correo)){this.errorMessage="Por favor, ingresa un correo v\xE1lido.";return}if(this.password.length<6){this.errorMessage="La contrase\xF1a debe tener al menos 6 caracteres.";return}try{let{data:n,error:e}=yield this.supabase.signUp(this.correo,this.password,{nombre:this.nombre,username:this.username});if(e||!n.user){this.errorMessage=e?.message||"Error al registrar el usuario.",this.loginStatusChange.emit(!1);return}console.log("Usuario registrado exitosamente:",n.user),this.loginStatusChange.emit(!0),this.router.navigate(["/home"])}catch(n){console.error("Error inesperado:",n),this.errorMessage="Error inesperado al registrar el usuario.",this.loginStatusChange.emit(!1)}})}validateEmail(n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}static \u0275fac=function(e){return new(e||i)(y(j),y(N))};static \u0275cmp=v({type:i,selectors:[["app-registro"]],outputs:{loginStatusChange:"loginStatusChange"},standalone:!1,decls:20,vars:5,consts:[["registroForm","ngForm"],[3,"ngSubmit"],["href",_`https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap`,"rel","stylesheet"],[1,"titulo"],[1,"input-container"],["src","https://lyotopwjahfarqruzrts.supabase.co/storage/v1/object/public/tomas//nombre.png","alt","Nombre",1,"input-icon"],["id","nombre","name","nombre","required","","type","text","placeholder","Nombre",3,"ngModelChange","ngModel"],["src","https://lyotopwjahfarqruzrts.supabase.co/storage/v1/object/public/tomas//mail.png","alt","Mail",1,"input-icon"],["id","correo","name","correo","required","","type","email","placeholder","Correo",3,"ngModelChange","ngModel"],["src","https://lyotopwjahfarqruzrts.supabase.co/storage/v1/object/public/tomas//Usuario.png","alt","Usuario",1,"input-icon"],["id","username","name","username","required","","type","text","placeholder","Usuario",3,"ngModelChange","ngModel"],["src","https://lyotopwjahfarqruzrts.supabase.co/storage/v1/object/public/tomas//Candado.png","alt","Candado",1,"input-icon"],["id","password","name","password","required","","type","password","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["type","submit"],[1,"error-message"]],template:function(e,o){if(e&1){let g=A();r(0,"form",1,0),D("ngSubmit",function(){return p(g),l(o.onSubmit())}),m(2,"link",2),r(3,"div",3),h(4," REGISTRATE "),s(),r(5,"div",4),m(6,"img",5),r(7,"input",6),u("ngModelChange",function(t){return p(g),f(o.nombre,t)||(o.nombre=t),l(t)}),s()(),r(8,"div",4),m(9,"img",7),r(10,"input",8),u("ngModelChange",function(t){return p(g),f(o.correo,t)||(o.correo=t),l(t)}),s()(),r(11,"div",4),m(12,"img",9),r(13,"input",10),u("ngModelChange",function(t){return p(g),f(o.username,t)||(o.username=t),l(t)}),s()(),r(14,"div",4),m(15,"img",11),r(16,"input",12),u("ngModelChange",function(t){return p(g),f(o.password,t)||(o.password=t),l(t)}),s()(),E(17,Z,2,1,"div",13),r(18,"button",14),h(19,"Registrarse"),s()()}e&2&&(a(7),c("ngModel",o.nombre),a(3),c("ngModel",o.correo),a(3),c("ngModel",o.username),a(3),c("ngModel",o.password),a(),S("ngIf",o.errorMessage))},dependencies:[R,T,O,k,J,q,I,W],styles:['@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}form[_ngcontent-%COMP%]{max-width:420px;margin:100px auto;padding:50px;border-radius:15px;box-shadow:0 8px 25px #0000001a;background-color:#fefefe;font-family:Poppins,sans-serif}.titulo[_ngcontent-%COMP%]{text-align:center;font-size:30px;font-weight:600;color:#00bfa6;margin-bottom:35px;text-transform:uppercase;letter-spacing:1px}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f3f3f3;border-radius:8px;padding:8px 12px;margin-bottom:20px;border:1px solid #ddd;transition:border-color .3s ease}.input-container[_ngcontent-%COMP%]:focus-within{border-color:#00bfa6}.input-icon[_ngcontent-%COMP%]{width:32px;height:32px;margin-right:12px}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%]{width:100%;padding:10px;border:none;outline:none;background:transparent;font-size:16px;font-family:Poppins,sans-serif}button[_ngcontent-%COMP%]{width:100%;background-color:#00bfa6;color:#fff;padding:14px;border:none;border-radius:8px;cursor:pointer;font-size:16px;font-weight:600;transition:background-color .3s ease,transform .2s ease;margin-top:10px}button[_ngcontent-%COMP%]:hover{background-color:#009e8f}button[_ngcontent-%COMP%]:active{transform:scale(.97)}.error-message[_ngcontent-%COMP%]{color:#e53935;font-size:14px;margin-bottom:15px;text-align:center}a[_ngcontent-%COMP%]{color:#00bfa6;text-decoration:none;font-weight:500;display:block;text-align:center;margin-top:15px}a[_ngcontent-%COMP%]:hover{text-decoration:underline}']})};var G=[{path:"",component:w}],b=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=C({type:i});static \u0275inj=U({imports:[F.forChild(G),F]})};var H=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=C({type:i});static \u0275inj=U({imports:[V,z,b]})};export{H as RegistroModule};
